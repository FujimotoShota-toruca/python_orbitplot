# 軌道6要素ビジュアライザ（ECI/ECEF/メルカトル）

**概要**  
クラシカル軌道6要素（a, e, i, Ω, ω, M0）から、ECI/ECEF/メルカトル地図上に衛星軌道を可視化する Streamlit アプリです。地図は海/陸の簡易カラー、フットプリントは除去しています。

- 技術要素：Streamlit + Plotly + NumPy  
- 想定用途：教育・講座デモ用（**運用・航法用途には使用しないでください**）

---

## 使い方（オンライン）

この Space にアクセスすると自動で起動します。**48時間無操作で自動スリープ**しますが、アクセスすれば自動復帰します（コールドスタートの待ち時間あり）。

1. サイドバーで 6 要素と描画条件（時間範囲・dt）を設定  
2. 表示切替（ECI / ECEF / 地図）をオン/オフ  
3. インデックス *k* で「現在位置」マーカーの時刻を選択

---

## ローカル実行

```bash
# 1) 依存関係のインストール
pip install -r requirements.txt
# 2) 起動
streamlit run app.py
````

`requirements.txt`（参考）:

````
streamlit
plotly
numpy
````

---

## ファイル構成

````
repo/
├─ app.py
├─ requirements.txt
└─ README.md   ← このファイル
````

---

## アルゴリズムの要点

* 二体問題・球体地球の近似
* 平均近点離角 M から離心近点角 E をニュートン法で求解
* ECI → ECEF は地球自転のみ（θ = θ0 + ω⊕ t）
* ECEF → 緯度経度高度は球近似

> 注意：大気抵抗・J2 摂動・時間系/GST の高精度取り扱い等は未実装です。

---

## よくある質問

* **Q: 同時アクセスはどの程度？**
  無料 CPU（2 vCPU / 16GB RAM）上での実効はアプリ次第です。軽い操作なら十数人規模まで比較的スムーズですが、重い設定・多数同時操作では遅延が増えます。
  **対策**：サンプル数（`hours`×`1/dt`）を抑える／`st.cache_data` 等で再計算を削減／トレース点数・線幅を控えめに。

* **Q: スリープ対策は？**
  講座の数分前に一度アクセスしてウォームアップしてください（無料 CPU は 48h 無操作で自動スリープ、アクセスで自動復帰）。

---

## 権利・条項（最小セット）

### ライセンス

本リポジトリのコードは **MIT License** とします（`LICENSE` 参照）。
※ 別のライセンスを希望する場合は、ここを変更し `LICENSE` を差し替えてください。

### 利用規約（サンプル）

本アプリは**教育・デモ目的**で提供され、出力の正確性・有用性・特定目的適合性を**保証しません**。本アプリの利用により生じたいかなる損害についても、製作者は**一切の責任を負いません**。
**禁止事項**：不正アクセス、攻撃的利用、過度な自動リクエスト、法令違反、Hugging Face のポリシーに反する行為。
**第三者コンテンツ**（地図・画像・ライブラリ等）は各ライセンスに従います。必要な帰属表示を削除しないでください。
**準拠法**：日本法。**連絡先**：<TBD>。

### プライバシーポリシー（サンプル）

本アプリは**個人情報を能動的に収集しません**。入力は可視化のためにのみ使用し、継続保存しません。アクセスログ等の技術情報はプラットフォーム側（Hugging Face）で取得される場合があります。当方で外部解析ツールは使用していません。問い合わせ：<TBD>。

### ストレージと料金について

* 無料の **CPU basic** は **2 vCPU / 16GB RAM / 50GB 非永続ストレージ**です。再起動等で保存内容が消える可能性があります。重要データの保存先としては利用しないでください。
* GPU や永続ストレージ等の有料オプションを**有効化しない限り、料金は発生しません**。
---

## 謝辞

* [Streamlit](https://streamlit.io/)
* [Plotly](https://plotly.com/python/)

本アプリは「宇宙少年団つくば分団」向け学習用として作成されました。
